{"version":3,"file":"fullcalendar-angular.js","sources":["../../../projects/fullcalendar/src/lib/utils.ts","../../../projects/fullcalendar/src/lib/fullcalendar-options.ts","../../../projects/fullcalendar/src/lib/fullcalendar.component.ts","../../../projects/fullcalendar/src/lib/fullcalendar.module.ts","../../../projects/fullcalendar/src/public_api.ts","../../../projects/fullcalendar/src/fullcalendar-angular.ts"],"names":[],"mappings":"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","sourcesContent":["\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nexport function deepCopy(input) {\n\n  if (Array.isArray(input)) {\n    return input.map(deepCopy);\n\n  } else if (input instanceof Date) {\n    return new Date(input.valueOf());\n\n  } else if (typeof input === 'object' && input) { // non-null object\n    return mapHash(input, deepCopy);\n\n  } else { // everything else (null, function, etc)\n    return input;\n  }\n}\n\n\nexport function shallowCopy(val) {\n  if (typeof val === 'object') {\n    if (Array.isArray(val)) {\n      val = Array.prototype.slice.call(val);\n    } else if (val) { // non-null\n      val = { ...val };\n    }\n  }\n  return val;\n}\n\n\nexport function mapHash(input, func) {\n  const output = {};\n\n  for (const key in input) {\n    if (hasOwnProperty.call(input, key)) {\n      output[key] = func(input[key], key);\n    }\n  }\n\n  return output;\n}\n","\nexport const OPTION_IS_DEEP = {\n  headerToolbar: true,\n  footerToolbar: true,\n  events: true,\n  eventSources: true,\n  resources: true\n};\n","import deepEqual from 'fast-deep-equal';\nimport {\n  Component,\n  ElementRef,\n  Input,\n  AfterViewInit,\n  DoCheck,\n  AfterContentChecked,\n  OnDestroy,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Calendar, CalendarOptions } from '@fullcalendar/core';\nimport { deepCopy, shallowCopy, mapHash } from './utils';\nimport { OPTION_IS_DEEP } from './fullcalendar-options';\n\n@Component({\n  selector: 'full-calendar',\n  template: '',\n  styleUrls: ['./fullcalendar.component.scss'],\n  encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n})\nexport class FullCalendarComponent implements AfterViewInit, DoCheck, AfterContentChecked, OnDestroy {\n\n  @Input() options?: CalendarOptions;\n  @Input() deepChangeDetection?: boolean;\n\n  private calendar: Calendar;\n  private optionSnapshot: object = {}; // for diffing only\n\n  constructor(private element: ElementRef) {\n  }\n\n  ngAfterViewInit() {\n    const { deepChangeDetection } = this;\n    const options = this.options || {};\n\n    // initialize snapshot\n    this.optionSnapshot = mapHash(options, (optionVal, optionName) => (\n      (deepChangeDetection && OPTION_IS_DEEP[optionName])\n        ? deepCopy(optionVal)\n        : optionVal\n    ));\n\n    this.calendar = new Calendar(this.element.nativeElement, options);\n    this.calendar.render();\n  }\n\n  /*\n  allows us to manually detect complex input changes, internal mutations to certain options.\n  called before ngOnChanges. called much more often than ngOnChanges.\n  */\n  ngDoCheck() {\n    if (this.calendar) { // not the initial render\n      const { deepChangeDetection, optionSnapshot } = this;\n      const newOptions = this.options || {};\n      const newProcessedOptions = {};\n      let anyChanges = false;\n\n      // detect adds and updates (and update snapshot)\n      for (const optionName in newOptions) {\n        if (newOptions.hasOwnProperty(optionName)) {\n          let optionVal = newOptions[optionName];\n\n          if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n            if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n              optionSnapshot[optionName] = deepCopy(optionVal);\n              anyChanges = true;\n\n              // trick FC into knowing about a nested change.\n              // TODO: future versions won't need this.\n              // can't use the previously-made deep copy because it blows away prototype-association.\n              optionVal = shallowCopy(optionVal);\n            }\n\n          } else {\n            if (optionSnapshot[optionName] !== optionVal) {\n              optionSnapshot[optionName] = optionVal;\n              anyChanges = true;\n            }\n          }\n\n          newProcessedOptions[optionName] = optionVal;\n        }\n      }\n\n      const oldOptionNames = Object.keys(optionSnapshot);\n\n      // detect removals (and update snapshot)\n      for (const optionName of oldOptionNames) {\n        if (!(optionName in newOptions)) { // doesn't exist in new options?\n          delete optionSnapshot[optionName];\n          anyChanges = true;\n        }\n      }\n\n      if (anyChanges) {\n        this.calendar.pauseRendering();\n        this.calendar.resetOptions(newProcessedOptions);\n      }\n    }\n  }\n\n  ngAfterContentChecked() {\n    if (this.calendar) { // too defensive?\n      this.calendar.resumeRendering();\n    }\n  }\n\n  ngOnDestroy() {\n    if (this.calendar) { // too defensive?\n      this.calendar.destroy();\n      this.calendar = null;\n    }\n  }\n\n  public getApi(): Calendar {\n    return this.calendar;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { globalPlugins, PluginDef } from '@fullcalendar/core';\nimport { FullCalendarComponent } from './fullcalendar.component';\n\n@NgModule({\n  declarations: [FullCalendarComponent],\n  imports: [],\n  exports: [FullCalendarComponent]\n})\nexport class FullCalendarModule {\n\n  static registerPlugins(plugins: PluginDef[]) {\n    globalPlugins.push(...plugins);\n  }\n\n}\n","/*\n * Public API Surface of fullcalendar\n */\n\nexport * from './lib/fullcalendar.component';\nexport * from './lib/fullcalendar.module';\n\n// make available all of FC's utils/types\nexport * from '@fullcalendar/core';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}